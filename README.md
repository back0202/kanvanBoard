# 칸반보드 만들기

## 사용기술
React, styled-components, axios, typescript

## 고민한 내용
### 불필요한 호출

처음에 db를 todo, doing, done 3가지로 나눴다. 문제는 api 호출을 할때 3번 호출을 해야한다는 것과 드래그앤 드랍 순서를 변경하고 db를 변경할때 api를 2번 호출해서 불필요한 호출이 많아진다는것이다. 
그래서 
```
  kanbanBoard: [
   {
      "title": 4,
      "content": 12,
      "id": 1,
      "deadLine": 22,
      "status": "todo",
      "manager": "백광천",
      "order": 1024
    },
  ]
```
  
kanbanBoadr라는 배열에 객체를 넣고 status라는 프로퍼티를 너어서 3가지 상태를 구분해 줬다.
(json server에서 중첩? 이 안돼는거 같아서 이 방법사용)






### 각 상태별 순서를 어떻게 지정할것인가

https://velog.io/@server30sopt/DB%EC%97%90%EC%84%9C-%EC%83%81%EB%8C%80%EC%A0%81-%EC%9C%84%EC%B9%98-%EA%B0%92%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%B4-%EB%93%9C%EB%9E%98%EA%B7%B8-%EC%95%A4-%EB%93%9C%EB%A1%AD%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EC%88%9C%EC%84%9C-%EB%B3%80%EA%B2%BD-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0

order이라는 프러퍼티를 줘서 상대적 인덱스를 기준으로 순서를 변경하였다.


### 이 코드는 유지보수가 편리한 코드인가

결국 코딩은 유지보수가 편리한 앱을 만드는 것이 목표인데, 이 코드는 유지보수가 편리한가 라는 고민을 하였다. 객체지향프로그래밍과 함수형프로그래밍을 적용시켜보고 싶었다.
2방법다 개념은 이해를 하나 어떻게 적용을 해야하는가에 대한 고민을 많이 하게되었다. 결국 적용을 못 하였는데 내가 생각한 이유는 지금 이 프로젝트는 작은 프로젝트이기 때문에 당장 필요하지 않다? 그렇기 때문에 이론만 알고 있는 나는 이걸 적용하기 어렵다는 결론을 해서 적용하지 못 했다.

## 알게된점
1. 타입스크립트를 사용한지 얼마 되지 않아서 오류가 많이 발생했다. 그 중에서 타입스크립트는 js와 다르게 객체에 접근할때 a["string"]으로 접근하지 못 한다는 걸 알게되었다. 왜 그런지 검색을 해보니 타입스크립트는 타입좁히기(Literal Narrowing)를 한다고 한다. const a = "hello" 면 a의 타입은 string이 아니라 hello로 된다. 이거에 대해 나름 내가 내린 결론은 타입스크립트라는건 정적타입검사를 통해 오류를 방지한다. 결국 잘못된 타입을 쓰는거에 대한 오류를 막는건데 위 객체에 status를 보면 status에 들어가는 값은 todo, doing, done 3가지다. 이 status를 string타입으로 지정하는 거보다. literal string으로 더 좁게 todo, doing, done 이 3가지만 오게 만들면 더 강력한 검사를 통해 오류를 방지 할 수 잇어서 타입스크립트를 쓰는 목적에 맞다 라는게 내가 내린 결론이다.

2. 나는 react란 componet를 재사용하는것 이라고 단순하게 생각을 하고 있었다. 이번에 공식문서에 react처럼 사고하기에 보니 component는 단일 책임원칙으로 나눠야 한다고 한다. 먼저 컴포넌트란 무엇인지 보면 공식문서에서는 화면에 어떻게 표시되는지를 기술하는 react element를 반환한다 라고 되어 있다. 화면에 어떻게 표시되는지 즉 component는 ui라는것. ui를 기준으로 책임을 나눠야 하며, 이걸 재사용 하는것이 react다. 그래서 하나의 컴포넌트에는 ui관련 코드만 있어여 하고 로직 관련부분은 hook을 통해서 작성해야한다. 이렇게 ui랑 로직을 분리해야지 재사용 가능한 컴포넌트를 만들수 있다. 

